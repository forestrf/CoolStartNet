<!doctype html>
<html>
<head>
<script src="js/api.js"></script>
<style>
body{
	background: #000;
	color: #FFF;
}
</style>
</head>
<body>
<table>
	<tbody>
		<tr>
			<td>Widget Nombre</td>
			<td><input type="text" id="widget"></td>
		</tr>
		<tr>
			<td>Variable</td>
			<td><input type="text" id="variable"></td>
		</tr>
		<tr>
			<td>Acción</td>
			<td>
				<select id="action">
					<option name="get">get</option>
					<option name="set">set</option>
				</select>
			</td>
		</tr>
		<tr>
			<td>Valor</td>
			<td><input type="text" id="valor"></td>
		</tr>
		<tr>
			<td colspan="2"><input type="button" id="enviar" value="Consultar"></td>
		</tr>
	</tbody>
</table>


<script>

// http://localhost/api.php?size=1&widget=["bookmarks"]&variable=[["list"]]&action=get

D = document, D.g = D.getElementById;

D.g('enviar').onclick = function(){
	var comando = {
		'action':D.g('action').value,
		'widget':D.g('widget').value,
		'variables':D.g('variable').value
	};
	
	if(comando['action'] === 'set'){
		comando['variables'] = {};
		comando['variables'][D.g('variable').value] = D.g('valor').value;
	}
	
	API.call(comando, function(entrada){
		D.g('valor').value = entrada[D.g('variable').value];
	});
	
	
}











</script>